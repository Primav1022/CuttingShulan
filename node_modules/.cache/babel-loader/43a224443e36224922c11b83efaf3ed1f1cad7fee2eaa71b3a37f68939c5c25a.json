{"ast":null,"code":"import React,{useRef}from'react';import'./ShowClothes.css';import StepBar from'../../components/StepBar/StepBar';import ClothBox from'./ClothBox';import ClothBox2 from\"./ClothBox2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ShowClothes=_ref=>{let{imgscale,setImgscale,setSpacing,spacing,currentStep,handleNextStep,handlePrevStep,sketchDataURL,patternDataURL,setConnectionType,connectionType}=_ref;const clothBoxRef=useRef(null);const handleSaveImage=()=>{if(clothBoxRef.current){clothBoxRef.current.saveCanvasAsImage();}};const increaseSpacing=()=>{setSpacing(prevSpacing=>prevSpacing+100);// console.log(spacing);\n};// 减少间距\nconst decreaseSpacing=()=>{setSpacing(prevSpacing=>prevSpacing-100>=0?prevSpacing-100:0);// console.log(spacing);\n};const bigscaleimg=()=>{setImgscale(previmgscale=>{// 如果当前值小于4，则可以增加\nif(previmgscale<4){return previmgscale+1;}else{// 否则保持不变\nreturn previmgscale;}});};const smallscaleimg=()=>{setImgscale(previmgscale=>{// 如果当前值大于1，则可以减少\nif(previmgscale>1){return previmgscale-1;}else{// 否则保持不变\nreturn previmgscale;}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container containerColumn\",children:[/*#__PURE__*/_jsx(StepBar,{currentStep:currentStep,handleNextStep:handleNextStep,handlePrevStep:handlePrevStep}),/*#__PURE__*/_jsxs(\"div\",{className:\"middlecloth\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"clothbox\",children:[\" \",/*#__PURE__*/_jsx(ClothBox2,{imgscale:imgscale,setImgscale:setImgscale,setConnectionType:setConnectionType,connectionType:connectionType,spacing:spacing,ref:clothBoxRef,sketchDataURL:sketchDataURL,patternDataURL:patternDataURL})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"clothbox\",children:[\" \",/*#__PURE__*/_jsx(ClothBox,{imgscale:imgscale,setImgscale:setImgscale,setConnectionType:setConnectionType,connectionType:connectionType,spacing:spacing,ref:clothBoxRef,sketchDataURL:sketchDataURL,patternDataURL:patternDataURL})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"containerbox\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-above-buttons\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"zoomimg\",children:\"\\u7F29\\u653E\\u7EB9\\u6837\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u5927\\u5C0F\\u7F29\\u653E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bottom-buttonbig\",onClick:increaseSpacing,children:/*#__PURE__*/_jsxs(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M2 10H18\",stroke:\"white\",\"stroke-width\":\"3\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 2L10 18\",stroke:\"white\",\"stroke-width\":\"3\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"bottom-buttonbig\",onClick:decreaseSpacing,children:/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"4\",viewBox:\"0 0 20 4\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M2 2H18\",stroke:\"white\",\"stroke-width\":\"3\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"bottom-buttonbig\",onClick:bigscaleimg,children:/*#__PURE__*/_jsxs(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",stroke:\"white\",\"stroke-width\":\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"8\",x2:\"12\",y2:\"16\",stroke:\"white\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"12\",x2:\"16\",y2:\"12\",stroke:\"white\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"bottom-buttonbig\",onClick:smallscaleimg,children:/*#__PURE__*/_jsxs(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",stroke:\"white\",\"stroke-width\":\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"12\",x2:\"16\",y2:\"12\",stroke:\"white\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\"})]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bottom-button\",onClick:handleSaveImage,children:\"\\u8F93\\u51FA\\u5370\\u82B1\\u6587\\u4EF6\"})]})})]});};export default ShowClothes;","map":{"version":3,"names":["React","useRef","StepBar","ClothBox","ClothBox2","jsx","_jsx","jsxs","_jsxs","ShowClothes","_ref","imgscale","setImgscale","setSpacing","spacing","currentStep","handleNextStep","handlePrevStep","sketchDataURL","patternDataURL","setConnectionType","connectionType","clothBoxRef","handleSaveImage","current","saveCanvasAsImage","increaseSpacing","prevSpacing","decreaseSpacing","bigscaleimg","previmgscale","smallscaleimg","className","children","ref","onClick","width","height","viewBox","fill","xmlns","d","stroke","cx","cy","r","x1","y1","x2","y2"],"sources":["F:/同济实习/cutting/src/containers/ShowClothes/ShowClothes.js"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport './ShowClothes.css';\r\nimport StepBar from '../../components/StepBar/StepBar';\r\nimport ClothBox from './ClothBox';\r\nimport ClothBox2 from \"./ClothBox2\";\r\n\r\nconst ShowClothes = ({ imgscale,setImgscale,setSpacing,spacing,currentStep, handleNextStep, handlePrevStep, sketchDataURL, patternDataURL,setConnectionType,connectionType }) => {\r\n\r\n    const clothBoxRef = useRef(null);\r\n\r\n    const handleSaveImage = () => {\r\n        if (clothBoxRef.current) {\r\n            clothBoxRef.current.saveCanvasAsImage();\r\n        }\r\n    };\r\n    const increaseSpacing = () => {\r\n        setSpacing(prevSpacing => prevSpacing + 100);\r\n        // console.log(spacing);\r\n    };\r\n\r\n    // 减少间距\r\n    const decreaseSpacing = () => {\r\n        setSpacing(prevSpacing => prevSpacing - 100 >= 0 ? prevSpacing - 100 : 0);\r\n        // console.log(spacing);\r\n    };\r\n    const bigscaleimg = () => {\r\n        setImgscale(previmgscale => {\r\n            // 如果当前值小于4，则可以增加\r\n            if (previmgscale < 4) {\r\n                return previmgscale + 1;\r\n            } else {\r\n                // 否则保持不变\r\n                return previmgscale;\r\n            }\r\n        });\r\n    };\r\n\r\n    const smallscaleimg = () => {\r\n        setImgscale(previmgscale => {\r\n            // 如果当前值大于1，则可以减少\r\n            if (previmgscale > 1) {\r\n                return previmgscale - 1;\r\n            } else {\r\n                // 否则保持不变\r\n                return previmgscale;\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container containerColumn\">\r\n            <StepBar currentStep={currentStep} handleNextStep={handleNextStep} handlePrevStep={handlePrevStep} />\r\n            <div className=\"middlecloth\" >\r\n                    <div className=\"clothbox\"> <ClothBox2  imgscale={imgscale} setImgscale={setImgscale} setConnectionType={setConnectionType} connectionType={connectionType} spacing={spacing} ref={clothBoxRef} sketchDataURL={sketchDataURL} patternDataURL={patternDataURL} /></div>\r\n                   <div className=\"clothbox\"> <ClothBox  imgscale={imgscale} setImgscale={setImgscale} setConnectionType={setConnectionType} connectionType={connectionType} spacing={spacing} ref={clothBoxRef} sketchDataURL={sketchDataURL} patternDataURL={patternDataURL} /></div>\r\n            </div>\r\n            <div className=\"bottom\">\r\n                <div className=\"containerbox\">\r\n                    <span className=\"text-above-buttons\"><span className=\"zoomimg\">缩放纹样</span><span>大小缩放</span></span>\r\n                    <div className=\"button-group\">\r\n                        <button className=\"bottom-buttonbig\" onClick={increaseSpacing}>\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M2 10H18\" stroke=\"white\" stroke-width=\"3\" stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"/>\r\n                                <path d=\"M10 2L10 18\" stroke=\"white\" stroke-width=\"3\" stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"/>\r\n                            </svg>\r\n                        </button>\r\n                        <button className=\"bottom-buttonbig\" onClick={decreaseSpacing}>\r\n                            <svg width=\"20\" height=\"4\" viewBox=\"0 0 20 4\" fill=\"none\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M2 2H18\" stroke=\"white\" stroke-width=\"3\" stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"/>\r\n                            </svg>\r\n                        </button>\r\n                        <button className=\"bottom-buttonbig\" onClick={bigscaleimg}>\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"white\" stroke-width=\"2\"/>\r\n                                <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\" stroke=\"white\" stroke-width=\"2\"\r\n                                      stroke-linecap=\"round\"/>\r\n                                <line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\" stroke=\"white\" stroke-width=\"2\"\r\n                                      stroke-linecap=\"round\"/>\r\n                            </svg>\r\n                        </button>\r\n                        <button className=\"bottom-buttonbig\" onClick={smallscaleimg}>\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"white\" stroke-width=\"2\"/>\r\n                                <line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\" stroke=\"white\" stroke-width=\"2\"\r\n                                      stroke-linecap=\"round\"/>\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                    <button className=\"bottom-button\" onClick={handleSaveImage}>输出印花文件</button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ShowClothes;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}