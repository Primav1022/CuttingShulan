{"ast":null,"code":"var _jsxFileName = \"F:\\\\\\u540C\\u6D4E\\u5B9E\\u4E60\\\\cutting\\\\src\\\\containers\\\\MakeContinuous\\\\MakeContinuous.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useImperativeHandle, forwardRef, useCallback } from 'react';\nimport StepBar from '../../components/StepBar/StepBar';\nimport './MakeContinuous.css';\nimport ColorSelector from '../../components/ColorSelector.js/ColorSelector';\nimport ConnectionSelector from '../../components/ColorSelector.js/ConnectionSelector';\nimport ContinuousPatterns from '../../components/ContinuousPatterns/ContinuousPatterns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MakeContinuous = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n  const canvasRef = useRef(null);\n  useImperativeHandle(ref, () => ({\n    clearCanvas() {\n      const canvas = canvasRef.current;\n      if (!canvas) return;\n      const context = canvas.getContext('2d');\n      context.clearRect(0, 0, canvas.width, canvas.height);\n    }\n  }));\n  // const [connectionType, setConnectionType] = useState('ƽ��');\n  // �� props �н⹹����Ҫ�Ĳ���\n  const {\n    currentStep,\n    handleNextStep,\n    handlePrevStep,\n    sketchDataURL,\n    onSave,\n    spacing,\n    setSpacing,\n    selectedColor,\n    setSelectedColor,\n    setConnectionType,\n    connectionType\n  } = props;\n  // const [selectedColor, setSelectedColor] = useState('#FFFFFF'); // Ĭ��Ϊ��ɫ\n  const handleConnectionTypeChange = useCallback(newType => {\n    setConnectionType(newType);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container containerColumn\",\n    style: props.style,\n    children: [/*#__PURE__*/_jsxDEV(StepBar, {\n      currentStep: currentStep,\n      handleNextStep: handleNextStep,\n      handlePrevStep: handlePrevStep\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"middle\",\n      children: /*#__PURE__*/_jsxDEV(ContinuousPatterns, {\n        spacing: spacing,\n        setSpacing: setSpacing,\n        onSave: onSave,\n        sketchDataURL: sketchDataURL,\n        selectedColor: selectedColor,\n        connectionType: connectionType,\n        ref: ref\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottom\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selectors-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(ColorSelector, {\n          onColorSelect: setSelectedColor,\n          selectedColor: selectedColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 2\n        }, this), /*#__PURE__*/_jsxDEV(ConnectionSelector, {\n          selectedConnection: connectionType,\n          onConnectionTypeChange: handleConnectionTypeChange,\n          onColorSelect: setSelectedColor,\n          selectedColor: selectedColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}, \"BFeh7H6RN2tCgVUImR4YujdJrDA=\")), \"BFeh7H6RN2tCgVUImR4YujdJrDA=\");\n_c2 = MakeContinuous;\nexport default MakeContinuous;\nvar _c, _c2;\n$RefreshReg$(_c, \"MakeContinuous$forwardRef\");\n$RefreshReg$(_c2, \"MakeContinuous\");","map":{"version":3,"names":["React","useState","useRef","useImperativeHandle","forwardRef","useCallback","StepBar","ColorSelector","ConnectionSelector","ContinuousPatterns","jsxDEV","_jsxDEV","MakeContinuous","_s","_c","props","ref","canvasRef","clearCanvas","canvas","current","context","getContext","clearRect","width","height","currentStep","handleNextStep","handlePrevStep","sketchDataURL","onSave","spacing","setSpacing","selectedColor","setSelectedColor","setConnectionType","connectionType","handleConnectionTypeChange","newType","className","style","children","fileName","_jsxFileName","lineNumber","columnNumber","onColorSelect","selectedConnection","onConnectionTypeChange","_c2","$RefreshReg$"],"sources":["F:/同济实习/cutting/src/containers/MakeContinuous/MakeContinuous.js"],"sourcesContent":["\r\nimport React, { useState, useRef, useImperativeHandle, forwardRef, useCallback} from 'react';\r\nimport StepBar from '../../components/StepBar/StepBar';\r\nimport './MakeContinuous.css';\r\nimport ColorSelector from '../../components/ColorSelector.js/ColorSelector';\r\nimport ConnectionSelector from '../../components/ColorSelector.js/ConnectionSelector';\r\nimport ContinuousPatterns from '../../components/ContinuousPatterns/ContinuousPatterns';\r\n\r\n\r\nconst MakeContinuous = forwardRef((props, ref) => {\r\n  const canvasRef = useRef(null);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n      clearCanvas() {\r\n          const canvas = canvasRef.current;\r\n          if (!canvas) return;\r\n          const context = canvas.getContext('2d');\r\n          context.clearRect(0, 0, canvas.width, canvas.height);\r\n      }\r\n    \r\n  }));\r\n  // const [connectionType, setConnectionType] = useState('ƽ��');\r\n  // �� props �н⹹����Ҫ�Ĳ���\r\n  const { currentStep, handleNextStep, handlePrevStep, sketchDataURL, onSave,spacing,setSpacing,selectedColor,setSelectedColor,setConnectionType,connectionType} = props;\r\n  // const [selectedColor, setSelectedColor] = useState('#FFFFFF'); // Ĭ��Ϊ��ɫ\r\n  const handleConnectionTypeChange = useCallback((newType) => {\r\n    setConnectionType(newType);\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"container containerColumn\" style={props.style}>\r\n      \r\n        <StepBar currentStep={currentStep} handleNextStep={handleNextStep} handlePrevStep={handlePrevStep} />\r\n        <div className=\"middle\">\r\n          <ContinuousPatterns spacing={spacing} setSpacing={setSpacing} onSave={onSave} sketchDataURL={sketchDataURL} selectedColor={selectedColor} connectionType={connectionType} ref={ref} />\r\n        </div>\r\n        <div className=\"bottom\">\r\n        <div className=\"selectors-wrapper\">\r\n <ColorSelector onColorSelect={setSelectedColor} selectedColor={selectedColor}/>\r\n      <ConnectionSelector selectedConnection={connectionType} onConnectionTypeChange={handleConnectionTypeChange}  onColorSelect={setSelectedColor} selectedColor={selectedColor}/>\r\n      \r\n    </div>\r\n        </div>\r\n       \r\n      \r\n    </div>\r\n  );\r\n})\r\n\r\nexport default MakeContinuous;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}