{"ast":null,"code":"var _jsxFileName = \"F:\\\\\\u540C\\u6D4E\\u5B9E\\u4E60\\\\cutting\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useState, useRef, useCallback } from 'react';\nimport './App.css';\nimport GenerationImg from './containers/GenerationImg/GenerationImg';\nimport Makeunit from './containers/Makeunit/Makeunit';\nimport MakeContionous from './containers/MakeContinuous/MakeContinuous';\nimport ShowClothes from './containers/ShowClothes/ShowClothes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [spacing, setSpacing] = useState(10); // 初始间距\n\n  // 增加间距\n\n  const [savedPatternDataURL, setSavedPatternDataURL] = useState(null);\n  const makeContinuousRef = useRef(null);\n  const handlePatternSave = useCallback(dataURL => {\n    setSavedPatternDataURL(dataURL);\n  }, []);\n  const [selectedMaterials, setSelectedMaterials] = useState([]);\n  const [sketchDataURL, setSketchDataURL] = useState(null);\n  const handleAddMaterial = newMaterial => {\n    setSelectedMaterials(prevMaterials => [...prevMaterials, newMaterial]);\n  };\n  const [currentStep, setCurrentStep] = useState(1);\n  const handleNextStep = () => {\n    setCurrentStep(currentStep < 4 ? currentStep + 1 : 4);\n  };\n  const handlePrevStep = () => {\n    setCurrentStep(currentStep > 1 ? currentStep - 1 : 1);\n  };\n  const handleSaveSketch = dataURL => {\n    setSketchDataURL(dataURL);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [currentStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(GenerationImg, {\n        currentStep: currentStep,\n        handleNextStep: handleNextStep,\n        handlePrevStep: handlePrevStep,\n        selectedMaterials: selectedMaterials,\n        onAddMaterial: handleAddMaterial\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Makeunit, {\n        currentStep: currentStep,\n        handleNextStep: handleNextStep,\n        handlePrevStep: handlePrevStep,\n        selectedMaterials: selectedMaterials,\n        onAddMaterial: handleAddMaterial,\n        onSaveSketch: handleSaveSketch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }, this), currentStep === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(MakeContionous, {\n        spacing: spacing,\n        setSpacing: setSpacing,\n        ref: makeContinuousRef,\n        currentStep: currentStep,\n        handleNextStep: handleNextStep,\n        handlePrevStep: handlePrevStep,\n        onSaveSketch: handleSaveSketch,\n        sketchDataURL: sketchDataURL,\n        onSave: handlePatternSave\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }, this), currentStep === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ShowClothes, {\n        spacing: spacing,\n        setSpacing: setSpacing,\n        patternDataURL: savedPatternDataURL,\n        currentStep: currentStep,\n        handleNextStep: handleNextStep,\n        handlePrevStep: handlePrevStep,\n        sketchDataURL: sketchDataURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MakeContionous, {\n        spacing: spacing,\n        setSpacing: setSpacing,\n        ref: makeContinuousRef,\n        currentStep: currentStep,\n        handleNextStep: handleNextStep,\n        handlePrevStep: handlePrevStep,\n        onSaveSketch: handleSaveSketch,\n        sketchDataURL: sketchDataURL,\n        onSave: handlePatternSave,\n        style: {\n          visibility: 'hidden',\n          position: 'absolute',\n          left: '-9999px' // 将组件移至屏幕外，确保不占用布局空间\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Q2x0Br0USLQtBzvHOStP0giqY9A=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useCallback","GenerationImg","Makeunit","MakeContionous","ShowClothes","jsxDEV","_jsxDEV","App","_s","spacing","setSpacing","savedPatternDataURL","setSavedPatternDataURL","makeContinuousRef","handlePatternSave","dataURL","selectedMaterials","setSelectedMaterials","sketchDataURL","setSketchDataURL","handleAddMaterial","newMaterial","prevMaterials","currentStep","setCurrentStep","handleNextStep","handlePrevStep","handleSaveSketch","className","children","onAddMaterial","fileName","_jsxFileName","lineNumber","columnNumber","onSaveSketch","ref","onSave","patternDataURL","style","visibility","position","left","_c","$RefreshReg$"],"sources":["F:/同济实习/cutting/src/App.js"],"sourcesContent":["// App.js\r\nimport React, { useState,useRef,useCallback } from 'react';\r\nimport './App.css';\r\n\r\nimport GenerationImg from './containers/GenerationImg/GenerationImg';\r\nimport Makeunit from './containers/Makeunit/Makeunit';\r\nimport MakeContionous from './containers/MakeContinuous/MakeContinuous';\r\nimport ShowClothes from './containers/ShowClothes/ShowClothes';\r\n\r\n\r\nfunction App() {\r\n  const [spacing, setSpacing] = useState(10); // 初始间距\r\n\r\n// 增加间距\r\n\r\n  const [savedPatternDataURL, setSavedPatternDataURL] = useState(null);\r\n  \r\n  const makeContinuousRef=useRef(null);\r\n \r\n    const handlePatternSave = useCallback((dataURL) => {\r\n        setSavedPatternDataURL(dataURL);\r\n    }, []);\r\n\r\n\r\n  const [selectedMaterials, setSelectedMaterials] = useState([]);\r\n  const [sketchDataURL, setSketchDataURL] = useState(null); \r\n  const handleAddMaterial = (newMaterial) => {\r\n    setSelectedMaterials(prevMaterials => [...prevMaterials, newMaterial]);\r\n  };\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n\r\n  const handleNextStep = () => {\r\n    setCurrentStep(currentStep < 4 ? currentStep + 1 : 4);\r\n  };\r\n\r\n  const handlePrevStep = () => {\r\n    setCurrentStep(currentStep > 1 ? currentStep - 1 : 1);\r\n};\r\n\r\n  const handleSaveSketch = (dataURL) => {\r\n    setSketchDataURL(dataURL); \r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"content\">\r\n   \r\n      {currentStep === 1 && <div>\r\n        <GenerationImg currentStep={currentStep} handleNextStep={handleNextStep} handlePrevStep={handlePrevStep} selectedMaterials={selectedMaterials} onAddMaterial={handleAddMaterial}/>\r\n        </div>}\r\n      {currentStep === 2 && <div>\r\n        <Makeunit currentStep={currentStep} handleNextStep={handleNextStep} handlePrevStep={handlePrevStep} selectedMaterials={selectedMaterials} onAddMaterial={handleAddMaterial}  onSaveSketch={handleSaveSketch}/>\r\n      </div>}\r\n      {currentStep === 3 && <div>\r\n        <MakeContionous spacing={spacing} setSpacing={setSpacing} ref={makeContinuousRef} currentStep={currentStep} handleNextStep={handleNextStep} handlePrevStep={handlePrevStep} onSaveSketch={handleSaveSketch} sketchDataURL={sketchDataURL} onSave={handlePatternSave}/>\r\n      </div>}\r\n      {currentStep === 4 && <div>\r\n        <ShowClothes spacing={spacing} setSpacing={setSpacing}  patternDataURL={savedPatternDataURL} currentStep={currentStep} handleNextStep={handleNextStep} handlePrevStep={handlePrevStep} sketchDataURL={sketchDataURL}/>\r\n        <MakeContionous spacing={spacing} setSpacing={setSpacing} ref={makeContinuousRef} currentStep={currentStep} handleNextStep={handleNextStep} handlePrevStep={handlePrevStep} onSaveSketch={handleSaveSketch} sketchDataURL={sketchDataURL} onSave={handlePatternSave}\r\n                        style={{\r\n                          visibility: 'hidden',\r\n                          position: 'absolute',\r\n                          left: '-9999px', // 将组件移至屏幕外，确保不占用布局空间\r\n                        }}/>\r\n    </div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}